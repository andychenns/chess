---
title: "Chess API"
author: "LonghaoChen"
date: "3/2/2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(httr)
library(jsonlite)
library(tidyverse)

library(curl)
library(dplyr)

```

```{r}
library(readr)
df <- read_csv("data/lichess-01-2014.csv", 
    col_types = cols(X1 = col_skip()))


```
```{r}
#barplot for game mode

ggplot(df, aes(reorder(Mode,Mode,function(x)-length(x)))) + geom_bar()

```

```{r}
ggplot(df, aes(reorder(Result,Result,function(x)-length(x)))) + geom_bar()
```
```{r}
ggplot(df, aes(reorder(`Termination Type`,`Termination Type`,function(x)-length(x)))) + geom_bar()

table(df$`Termination Type`)
```


```{r}
ggplot(df, aes(df$`Average Rating`)) + geom_area(stat = "bin")
```
```{r}
ggplot(df, aes(df$`Rating Difference`)) + geom_area(stat = "bin", binwidth=10)
```
```{r}
df$moves <- str_count(df$PGN, fixed("."))
```



